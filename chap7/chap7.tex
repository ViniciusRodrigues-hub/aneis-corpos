\chapter{Produtos de anéis}
Neste capítulo, estudaremos o produto direto de anéis.

\section{Produtos de dois anéis}
Dados anéis $R$ e $S$, é possível dar à $R\times S$ uma estrutura natural de anel.
\begin{definition}[Produto Direto de dois anéis]
    Sejam $R, S$ anéis.
    O produto direto de $R$ e $S$ é o conjunto $R\times S$ munido das operações ``ponto à ponto'': dados $a=(a_1, a_2)\in R\times S$ e $b=(b_1, b_2)\in R\times S$, temos:
    \[a+b=(a_1+b_1, a_2+b_2)\]
    \[a\cdot b=(a_1\cdot b_1, a_2\cdot b_2)\]
    \[0=(0_R, 0_S)\]
    \[1=(1_R, 1_S)\]
\end{definition}

Exemplo: Seja $R=\mathbb Z_3$ e $S=\mathbb Z_4$. Então $(2, 2)\in R\times S$ e $(1, 2)\in R\times S$. Temos:
\[(2, 2)+(1, 2)=(2+ 1, 2+ 2)=(0, 0).\]
\[(2, 2)\cdot (2, 2)=(2\cdot 2, 2\cdot 2)=(1, 0).\]

Com as operações explicitadas, o produto de dois anéis é, de fato, um anel.

Deixaremos a prova deste fato como exercício (ver Exercício~\ref{exer:prod_anel}), já que na seção seguinte provaremos um resultado mais geral.

\section{Produtos de uma família de anéis}

\begin{definition}[Produtos de anéis]
    Seja $(R_i)_{i \in I}$ uma família de anéis, onde cada $R_i$ tem as operações $+_i, \cdot_i$ e constantes $0_i, 1_i$.
    
    O produto (direto) de $(R_i)_{i \in I}$ é o conjunto $\prod_{i \in I} R_i$ munido das operações ``ponto à ponto'': dados $a=(a_i: i \in I), b=(b_i: i \in I)$ em $\prod_{i \in I}R_i$:

    $$a+b=(a_i: i \in I)+(b_i: i \in I)=(a_i+_i b_i: i \in I)=(a_i+_ib_i)_{i \in I}$$
    $$a\cdot b=(a_i: i \in I)\cdot (b_i: i \in I)=(a_i\cdot _i b_i: i \in I)=(a_i\cdot _ib_i)_{i \in I}$$

\end{definition}

\begin{lemma}[O produto de anéis está bem definido]
    Seja $(R_i)_{i \in I}$ uma família de anéis.
    Então seu produto direto $\prod_{i \in I}R_i$ é um anel com $0=(0_i: i \in I)$ e $1=(1_i: i \in I)$.
\end{lemma}

\begin{proof}
    Sejam $a=(a_i: i \in I), b=(b_i: i \in I)$ e $c=(c_i: i \in I)$ em $\prod_{i \in I}R_i$.
    \begin{itemize}
        \item \textbf{Associatividade da soma:} $(a+b)+c=(a_i+_i b_i)_{i \in I}+c=((a_i+_i b_i)+_ic_i)_{i \in I}=(a_i+_i (b_i+_i c_i))_{i \in I}=a+(b+c)$
        \item \textbf{Associatividade do produto:} Análogo.
        \item \textbf{Comutatividade da soma:} $a+b=(a_i+_i b_i)_{i \in I}=(b_i+_i a_i)_{i \in I}=b+a$
        \item \textbf{Neutro da soma:} $a+0=(a_i+_i 0_i)_{i \in I}=(a_i)_{i \in I}=a$
        \item \textbf{Inverso da soma:} Dado $a=(a_i)_{i \in I}$, considere $-a=(-a_i)_{i \in I}$. Então $a+(-a)=(a_i+_i (-a_i))_{i \in I}=(0_i)_{i \in I}=0$.
        \item \textbf{Distributividade:} $a\cdot (b+c)=(a_i\cdot _i (b_i+c_i))_{i \in I}=(a_i\cdot _i b_i+a_i\cdot _i c_i)_{i \in I}=a\cdot b+a\cdot c$.
        \item \textbf{Distributividade II:} $(a+b)\cdot c=((a_i+b_i)\cdot _i c_i)_{i \in I}=(a_i\cdot _i c_i+b_i\cdot _i c_i)_{i \in I}=a\cdot c+b\cdot c$.
        \item \textbf{Neutro do produto:} $a\cdot 1=(a_i\cdot _i 1_i)_{i \in I}=(a_i)_{i \in I}=a$ e $1\cdot a=(1_i\cdot _i a_i)_{i \in I}=(a_i)_{i \in I}=a$.
    \end{itemize}
\end{proof}
\begin{definition}[Os mapas de projeção]
    Seja $(R_i)_{i \in I}$ uma família de anéis e seja $P=\prod_{i \in I}R_i$.
    Para cada $i \in I$, o mapa de projeção $\pi_i:R\rightarrow R_i$ é dado por $\pi_i(a)=a_i$.

    Escrevendo de outra forma, $\pi_i((a_j: j \in I))=a_i$.
\end{definition}

\begin{lemma}[Os mapas de projeção são homomorfismos]
    Seja $(R_i)_{i \in I}$ uma família de anéis e seja $P=\prod_{i \in I}R_i$.
    Para cada $i \in I$, o mapa de projeção $\pi_i:R\rightarrow R_i$ é um homomorfismo de anéis.
\end{lemma}
\begin{proof}
    Sejam $a=(a_j: j \in I), b=(b_j: j \in I)$ em $P$.
    Então:
    \begin{itemize}
        \item $\pi_i(a+b)=\pi_i((a_j+b_j)_{j \in I})=a_i+b_i=\pi_i(a)+\pi_i(b)$
        \item $\pi_i(a\cdot b)=\pi_i((a_j\cdot b_j)_{j \in I})=a_i\cdot b_i=\pi_i(a)\cdot \pi_i(b)$
        \item $\pi_i(1_P)=\pi_i((1_j)_{j \in I})=1_{i}$
    \end{itemize}
\end{proof}

\section{A propriedade universal do produto direto de anéis}
\begin{theorem}[Propriedade universal do produto direto de anéis]
    Seja $(R_i)_{i \in I}$ uma família de anéis e seja $P=\prod_{i \in I}R_i$ seu produto direto.
    Então, para cada anel $S$ e cada família de homomorfismos de anéis $f_i:R_i\rightarrow S$, existe um único homomorfismo de anéis $g:p\rightarrow S$ tal que $\pi_i\circ g=f_i$ para todo $i \in I$.
    \begin{figure}[H]
        \centering
    \begin{tikzcd}[column sep=1.5cm,row sep=1.2cm]
        & S\arrow[ld, "f_i"']\arrow[d, dashed, "\exists! g"]\\
        R_i  & \arrow[l, "\pi_i"]P
    \end{tikzcd}
    \end{figure}

    Além disso, tal propriedade caracteriza o produto direto. Ou seja, para quaisquer que sejam um anel $P'$ e uma família de homomorfismos $(p_i:P'\rightarrow R_i)_{i \in I}$, se para todo anel $S$ e toda família de homomorfismos de anéis $f_i:R_i\rightarrow S$ existir um único homomorfismo de anéis $f:P'\rightarrow S$ tal que $p_i\circ f=f_i$ para todo $i \in I$,
    então existe um único isomorfismo de anéis $\phi: P'\rightarrow P$ tal que $\pi_i\circ \phi=p_i$ para todo $i \in I$.
\end{theorem}

\begin{proof}
    Seja $P=\prod_{i \in I}R_i$ e seja $S$ um anel comutativo. Para cada $i \in I$, considere $f_i:S\rightarrow R_i$ um homomorfismo de anéis.
    Defina $g:S\rightarrow P$ tal que, dado $s \in S$:
    \[g(s)=(f_i(s))_{i \in I}.\]

    Então, para cada $i \in I$, $\pi_i\circ g(s)=\pi_i(f_j(s): j \in I)=f_i(s)$, ou seja, $\pi_i\circ f=f_i$.
    Vejamos que $g$ é homomorfismo de anéis.
    Dados $s, t \in S$, temos:
    \begin{itemize}
        \item $g(s+t)=(f_i(s+t))_{i \in I}=(f_i(s)+f_i(t))_{i \in I}=(f_i(s))_{i \in I}+(f_i(t))_{i \in I}=g(s)+g(t)$.
        \item $g(s\cdot t)=(f_i(s\cdot t))_{i \in I}=(f_i(s)\cdot f_i(t))_{i \in I}=(f_i(s))_{i \in I}\cdot (f_i(t))_{i \in I}=g(s)\cdot g(t)$.
        \item $g(1_S)=(f_i(1_S))_{i \in I}=(1_i)_{i \in I}=1_R$.  
    \end{itemize}

    Vejamos que $g$ é único.
    Se $\bar g:R\rightarrow S$ é um homomorfismo de anéis tal que $\pi_i\circ \bar g=f_i$, fixe $s \in S$.
    Devemos ver que $\bar g(s)=g(s)$.
    Como $\bar g(s) \in P$, escreva $\bar g(s)=(b_i)_{i \in I}$, onde $b_i \in R_i$ para cada $i \in I$. Temos, que, para cada $j \in I$:
    \[b_j=\pi_j((b_i)_{i \in I})=\pi_j\circ \bar g(s)=f_j(s).\]
    Assim, $f_j(s)=b_j$ para todo $j \in I$. Daí, $\bar g(s)=(b_j)_{j \in I}=(f_j(s))_{j \in I}=g(s)$.
    Portanto, $g=\bar g$.

    Agora suponha que $P'$ e $(p_i:P'\rightarrow R_i)_{i \in I}$ são como no enunciado.

    Aplicando a propriedade de $P$ para $(\pi_i: i \in I)$, existe um homomorfismo de anéis $\phi: P'\rightarrow P$ tal que $\pi_i\circ \phi=p_i$ para todo $i \in I$.  

    \begin{figure}[H]
        \centering
    \begin{tikzcd}[column sep=1.5cm,row sep=1.2cm]
        & P'\arrow[ld, "p_i"']\arrow[d, dashed, "\exists! \phi"]\\
        R_i  & \arrow[l, "\pi_i"]P
    \end{tikzcd}
    \end{figure}

    Nosso objetivo é mostrar que $\phi$ é isomorfismo.
    Construiremos uma inversa.
    Como ele é o único homomorfismo tal que $\pi_i\circ \phi=p_i$ para todo $i \in I$, e como todo isomorfismo é homomorfismo, isso conclui a prova.

    Aplicando a propriedade de $P'$ para $(\pi_i: i \in I)$, existe um homomorfismo de anéis $\psi: P'\rightarrow P$ tal que $p_i\circ \psi=p_i$ para todo $i \in I$.

    \begin{figure}[H]
        \centering
    \begin{tikzcd}[column sep=1.5cm,row sep=1.2cm]
        & P\arrow[ld, "\pi_i"']\arrow[d, dashed, "\exists! \psi"]\\
        R_i  & \arrow[l, "p_i"]P'
    \end{tikzcd}
    \end{figure}

    Tanto os mapas $\psi\circ \phi$ quanto a identidade $\id_{P'}:P'\rightarrow P'$ são homomorfismos de anéis que satisfazem o seguinte diagrama comutativo:

    \begin{figure}[H]
        \centering
    \begin{tikzcd}[column sep=1.5cm,row sep=1.2cm]
        & P'\arrow[ld, "p_i"']\arrow[d, "\id_{P'}",  "\psi\circ\phi"']\\
        R_i  & \arrow[l, "p_i"]P'
    \end{tikzcd}
    \end{figure}

    Pois para todo $i \in I$, $p_i\circ \id_{P'}= p_i$ e $p_i\circ \psi\circ\phi=\pi_i\circ \phi=p_i$.
    Como a propriedade de $P'$ diz que existe um \emph{único} homomorfismo que satisfaz esse diagrama, segue que $\psi\circ \phi=\id_{P'}$.

    Analogamente, tanto os mapas $\phi\circ \psi$ quanto a identidade $\id_{P}:P\rightarrow P$ são homomorfismos de anéis que satisfazem o seguinte diagrama:
    \begin{figure}[H]
        \centering
    \begin{tikzcd}[column sep=1.5cm,row sep=1.2cm]
        & P\arrow[ld, "\pi_i"']\arrow[d, "\id_{P}",  "\phi\circ\psi"']\\
        R_i  & \arrow[l, "\pi_i"]P
    \end{tikzcd}
    \end{figure}

    Pois $\pi_i\circ \id_{P}=\pi_i$ e $\pi_i\circ \phi\circ\psi=p_i\circ \psi=\pi$.
    Como a propriedade de $P$ diz que existe um \emph{único} homomorfismo que satisfaz esse diagrama, segue que $\phi\circ \psi=\id_{P}$.
    
    Assim, $\psi$ e $\phi$ são isomorfismos inversos.
    Em particular, $\phi$ é isomorfismo, o que completa a prova.
\end{proof}

\section{Exercícios}

\begin{exer}\label{exer:prod_anel}
    Sejam $A, B$ anéis.
    Prove diretamente que o produto direto $A\times B$ é um anel.
    A seguir, prova que as projeções $\pi_1:A\times B\rightarrow A$ e $\pi_2:A\times B\rightarrow B$ dadas por $\pi_1(a, b)=a$ e $\pi_2(a, b)=b$ são homomorfismos de anéis.
\end{exer}

\begin{exer}
    Na notação do exercício anterior, prove diretamente que $A\times S$, com as projeções $(\pi_1, \pi_2)$ satisfazem a propriedade universal do produto direto, ou seja, mostre que:

    Para cada anel $S$ e cada par de homomorfismos de anéis $h_1:S\rightarrow A$ e $h_2:S\rightarrow B$, existe um único homomorfismo de anéis $g:S\rightarrow A\times B$ tal que $\pi_1\circ g=f_1$ e $\pi_2\circ g=f_2$.
\end{exer}
\begin{exer}
Decida quais dos seguintes conjuntos sao subaneis do anel produto $\mathbb R^{[0, 1]}$, onde $[0, 1]$ é o intervalo fechado dos números reais entre $0$ e $1$.
\begin{enumerate}[label=\alph*)]
    \item O conjunto de todas as funções $f:[0, 1]\rightarrow \mathbb R$ tais que $f(q)=0$ para todo $q\in [0, 1]$.
    \item O conjunto de todas as funções polinomiais $f:[0, 1]\rightarrow \mathbb R$.
    \item O conjunto de todas as funções $f:[0, 1]\rightarrow \mathbb R$ que possuem apenas um número finito de zeros, juntamente com a função zero.
    \item O conjunto de todas as funções $f:[0, 1]\rightarrow \mathbb R$ que possuem um número infinito de zeros.
    \item O conjunto de todas as funções $f:[0, 1]\rightarrow \mathbb R$ tais que $\lim_{x\rightarrow 1}f(x)=0$.
    \item O conjunto de todas as combinações lineares racionais das funções $\sin(nx)$ e $\cos(mx)$, onde $m,n$ são inteiros não negativos.
    \item O conjunto de todas as funções $f:[0, 1]\rightarrow \mathbb R$ tais que $f(q)=0$ para todo $q\in [0, 1]$ e $f(0)=1$.
\end{enumerate}
\end{exer}

\begin{exer}
    Seja $C$ o anel das funções de $\mathbb R$ em $\mathbb R$ com a estrutura de anel produto. Demonstre que $C$ não é um domínio.
\end{exer}

\begin{exer}
    Seja $C$ o anel das funções $f:\mathbb R\rightarrow \mathbb R$ com a soma e multiplicação usuais de funções.
    Para cada $r\in \mathbb R$, seja $M(r)$ o subconjunto de $C$ dado por:
    \[M(r)=\{f\in C: f(r)=0\}.\]
    \begin{enumerate}[label=\alph*)]
        \item Demonstre que $M(r)$ é um ideal maximal.
        \item Dê um exemplo de um ideal próprio e não nulo de $C$ que não seja maximal.
    \end{enumerate}
\end{exer}