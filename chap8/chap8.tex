\chapter{Divisibilidade em anéis}
Neste capítulo, estudaremos a noção de divisibilidade em anéis.
Tal noção é uma generalização da noção de divisibilidade em $\mathbb Z$.

Trataremos de divisibilidade apenas em anéis comutativos.

\section{Definição de divisibilidade}


\begin{definition}
Seja $R$ um anel comutativo. Definimos a relação de divisibilidade, $|$, em $R$, como se segue:

Para $a, b \in R$, dizemos que $a|b$ ($a$ divide $b$) se existe $c \in R$ tal que $b=ac$.
\end{definition}
Algumas propriedades básicas:
\begin{prop}
    Seja $R$ um anel comutativo.
    Então a relação de divisibilidade $|$ em $R$ é uma pré-ordem, ou seja, é reflexiva e transitiva.
\end{prop}

\begin{proof}Sejam $a, b, c \in R$.
    Temos que $a|a$, pois $a=1\cdot a$.

    Se $a|b$ e $b|c$, existem $e, f \in R$ tais que $b=ae$ e $c=bf$.
    Logo, $c=bf=aef=a(ef)$, o que implica em que $a|c$.
\end{proof}

Divisores de zero geram diversas patologias na teoria da divisibilidade, e estas não serão objeto primário de nosso estudo.
Assim, nos restringiremos aos anéis comutativos que não possuem divisores de zero, ou seja, aos domínios de integridade.
\begin{prop}
    Seja $R$ um anel domínio de integridade. Se $a, b\in R$, são equivalentes:

    \begin{enumerate}
        \item $a|b$ e $b|a$.
        \item Existe $u \in R$ invertível tal que $a=ub$.
    \end{enumerate}

    \begin{proof}
        Primeiro, suponha que $a|b$ e $b|a$.
        Temos que existem $c, d$ com $a=cb$ e $b=da$.
        Substituindo, temos que $b=dcb$. Cancelando, $1=dc$. Assim, $c$ é invertível.

        Reciprocamente, como $u$ é invertível, $a=ub$ e $u^{-1}a=b$, logo, $a|b$ e $b|a$.
    \end{proof}
\end{prop}

Com isso, definimos:

\begin{definition}
Seja $R$ um anel comutativo.
Dizemos que elementos $a, b \in R$ são associados se existe $u \in R$ invertível tal que $a=ub$.
\end{definition}

A relação de ser associado é uma relação de equivalência:

\begin{lemma}
    Seja $R$ um anel comutativo. A relação de ser associado é uma relação de equivalência em $R$.
\end{lemma}
\begin{proof}
    Seja $a, b, c \in R$.
    \begin{itemize}
        \item Reflexividade: $a$ é associado a si mesmo, pois $a=1\cdot a$ e $1 \in R^*$.
        \item Simetria: Se $a$ é associado a $b$, então existe $u$ invertível tal que $a=ub$. Logo, $b=u^{-1}a$, e, portanto, $b$ é associado a $a$.
        \item Transitividade: Se $a$ é associado a $b$ e $b$ é associado a $c$, então existem $u, v$ invertíveis tais que $a=ub$ e $b=vc$.
        Logo, temos que $a=uvc$, e, portanto, $a$ é associado a $c$, já que $uv\in R^*$.
    \end{itemize}
\end{proof}
\section{Elementos primos e irredutíveis}
Os números inteiros possuem uma classe muito importante de números: a dos primos.
As definições abaixo generalizam a noção de primo.

\begin{prop}[Elementos primos]
    Seja $R$ um anel comutativo
    Dizemos que $p \in R$ é um elemento primo se $p\notin R^*$, $P\neq 0$, e, para todos $a, b \in R$, se $p|ab$, então $p|a$ ou $p|b$.
\end{prop}

\begin{prop}[Elementos irredutíveis]
    Seja $R$ um anel comutativo.
    Dizemos que $p \in R$ é um elemento irredutível se $p\notin R^*$, $p\neq 0$, e, para todos $a, b \in R$, se $p=ab$, então $a\in R^*$ ou $b\in R^*$.
\end{prop}

Elementos primos se relacionam com ideais primos, como vemos a seguir:
\begin{prop}
    Seja $R$ um anel comutativo e $p\neq 0$.
    Então, $p$ é primo se, e somente se $\langle p\rangle$ é um ideal primo.
\end{prop}
\begin{proof}
    Primeiro, suponha que $p$ é primo.
    Segue que $\langle p\rangle=\{ap: a \in R\}$ não é $0$, pois $p \in R$, e não é $R$, pois $p\notin R^*$.
    Agora, seja $a, b \in R$ tais que $ab \in \langle p\rangle$.
    Então, existe $c \in R$ tal que $ab=cp$, ou seja, $p|ab$.
    Logo, $p|a$ ou $p|b$, o que implica que existe $d \in R$ tal que $a=pd$ ou $b=pd$, ou seja, $a\in \langle p\rangle$ ou $b\in \langle p\rangle$.

    Reciprocamente, suponha que $\langle p\rangle$ é um ideal primo.
    Veremos que $p$ é primo.
    Temos que $p\neq 0$ e $p$ não é invertível (pois $\langle p\rangle\neq R$).
    Agora, seja $a, b \in R$ tais que $p|ab$.
    Então, existe $c \in R$ tal que $ab=cp$.
    Logo, $ab \in \langle p\rangle$.
    Como $\langle p\rangle$ é primo, temos que $a \in \langle p\rangle$ ou $b \in \langle p\rangle$.
    Logo, existe $d \in R$ tal que $a=pd$ ou $b=pd$, ou seja, $p|a$ ou $p|b$.
\end{proof}

A seguinte proposição relaciona primos e irredutíveis em domínios de integridade.

\begin{prop}
    Seja $R$ um domínio de integridade
    Então, se $p \in R$ é primo, então $p$ é irredutível.
\end{prop}
\begin{proof}
    Seja $p \in R$ primo
    Para ver que $p$ é irredutível, fixe $a, b \in R$ e suponha que $p=ab$.
    
    Como $ab=p$, temos que $p|ab$.
    Logo, $p|a$ ou $p|b$.
    Supondo $p|a$, temos que $a=pc$ para algum $c \in R$.
    Logo, $p=pcb$, e, portanto, $1=cb$, o que mostra que $b \in R^*$.

    O caso em que $p|b$ é análogo.
\end{proof}
A recíproca vale em domínios de ideais principais.

\begin{prop}
    Seja $R$ um domínio de ideais principais
    Então, se $p \in R$ é irredutível, $p$ é primo.
\end{prop}
\begin{proof}
    Seja $p \in R$ irredutível.
    Veremos que $\langle p\rangle$ é primo.
    Para tanto, basta ver que $\langle p\rangle$ é maximal.
    Sabemos que esse ideal não é $\langle 0\rangle$ nem $R$.
    Suponha que existe $a \in R$ é tal que $\langle p\rangle \subseteq \langle a\rangle$.

    Então $p=ab$ para algum $b \in R$.
    Como $p$ é irredutível, temos que $a \in R^*$ ou $b \in R^*$.
    Se $a \in R^*$, então $\langle a\rangle=R$.
    Se $b \in R^*$, então $a=p\cdot b^{-1}\in \langle p\rangle$, e, portanto, $\langle p\rangle=\langle a\rangle$.
\end{proof}
\section{Domínios Euclideanos}
O anel dos números inteiros possui uma propriedade muito importante:
dado $n\in \mathbb Z$ e $d>0$, existem únicos $n, r$ tais que $0\leq r < d$ e $a=nd+r$.

A noção de domínio Euclideano generaliza os anéis que possuem essa propriedade.

\begin{definition}
    Um domínio de integridade $R$ é um domínio Euclideano
    se existe uma função $\nu:R\setminus \{0\} \to \mathbb N=\{0, 1, \dots\}$ satisfazendo:
    \begin{itemize}
        \item Para todos $a, b \in R$ com $b\neq 0$, existem $q, r \in R$ com $a=bq+r$ e ($r=0$ ou $\nu(r)<\nu(b)$).
        \item Para todos $a, b \in R\setminus \{0\}$, $\nu(ab)\geq \nu(a)$.
    \end{itemize}

    Tal função $\nu$ é chamada de valoração, ou grau.
\end{definition}
Um primeiro resultado simples:
\begin{definition}
    Seja $R$ um domínio Euclideano e $\nu$ uma função de valoração.
    Então se $a, b \in R$ são associados, temos $\nu(a)=\nu(b)$.
\end{definition}
\begin{proof}
    Se $a$ e $b$ são associados, existe $u \in R^*$ tal que $a=ub$.
    Logo, $\nu(a)=\nu(ub)\geq \nu(b)$ e $\nu(b)=\nu(u^{-1}a)\geq \nu(a)$.
    Assim, $\nu(a)=\nu(b)$.
\end{proof}

\begin{exemplo}
    O anel dos inteiros $\mathbb Z$ é um domínio Euclideano, com $\nu(n)=|n|$ para $n\neq 0$.
    Primeiro, é claro que se $a, b\in \mathbb Z$ são não nulos, então $|ab|=|a||b|\geq |a|1=|a|$.

    Agora, sejam $a, b\in \mathbb Z$ com $b\neq 0$.
    Sabemos que existem $q, r \in \mathbb Z$ tais que $a=q|b|+r$ e $0\leq r < |b|$.
    Se $b>0$, isso conclui a prova.
    Se $b<0$, então $a=(-q)b+r$, e isso conclui a prova.
\end{exemplo}

\begin{exemplo}
    No geral, não podemos exigir a unicidade de $q, r$.
    De fato, em $\mathbb Z$, considere $a=3$, $b=2$.
    Então $3=1\cdot 2+1$ com $|1|<|2|$, mas também $3=2\cdot 2+(-1)$ com $|-1|<|2|$.
\end{exemplo}

Porém, temos o resultado a seguir.
Mais adiante, veremos que esse será o caso para anéis de polinômios sobre corpos munidos da função grau.


\begin{prop}
    Seja $R$ um domínio Euclideano e $\nu$ uma função de valoração tal que
    para todos $a, b\in R$ com $a, b, a+b\neq 0$, temos $\nu(a+b)\leq \max(\nu(a), \nu(b))$.
    
    Então para todos $a, b \in R$ com $b\neq 0$, existem únicos $q, r \in R$ tais que $a=bq+r$ e ($r=0$ ou $\nu(r)<\nu(b)$).
\end{prop}
\begin{proof}
    A existência de $q, r$ como acima vem da definição de domínios Euclideanos.
    Adicionalmente, sejam $q', r' \in R$ tais que $a=bq'+r'$ e $r'=0$ ou $\nu(r')<\nu(b)$.

    Temos que $q'b+r'=qb+r$.
    Se $r=r'$, segue que $q=q'$.
    Similarmente, se $q=q'$, segue que $r=r'$.
    Portanto, vamos supor por absurdo que $r\neq r'$ e $q\neq q'$.
    Assim, $r'-r=(q-q')b+(r-r')$.
    
    Se $r=0$, temos que $\nu(r')<\nu(b)\leq \nu((q-q')b)=\nu(r)$, o que é absurdo.

    Se $r'=0$, temos que $\nu(-r)=\nu(r)<\nu(b)\leq(\nu(q-q')b)=\nu(r)$, o que é absurdo.
    
    Se $r, r'\neq 0$, temos que $\nu(r'-r)\leq \max(\nu(r), \nu(r'))<\nu(b)\leq(\nu(q-q')b)=\nu(r)$, o que é absurdo.
\end{proof}

\begin{prop}
    Todo corpo é um Domínio Euclideano.
\end{prop}
\begin{proof}
Seja $K$ um corpo e considere $\nu:K\setminus \{0\}\to N$ dada por $\nu(x)=1$ para todo $x\in K\setminus \{0\}$.

    Então, para $a, b \in K\setminus \{0\}$, temos que $\nu(ab)=1=\nu(a)$,
    e, dados $a, b\in K$ com $b\neq 0$, temos que $a=(ab^{-1})b+0$.
\end{proof}

O resultado abaixo generaliza o que também já sabemos sobre $\mathbb Z$.
\begin{prop}
Todo domínio Euclideano é um domínio de ideais principais.
\end{prop}
\begin{proof}
    Seja $R$ um domínio Euclideano com valoração $\nu$ e $I$ um ideal em $R$.

    Se $I=\{0\}$, então $I$ é gerado por $0$.

    Se $I\neq \{0\}$, então existe $b\in I$ tal que $\nu(b)$ é mínimo.
    Afirmamos que $I=\langle b\rangle$.
    É claro que $\langle b\rangle\subseteq I$, restando verificar que $I\subseteq \langle b\rangle$.
    De fato, tome $a \in I$.
    Existem $q, r \in R$ tais que $a=bq+r$ e $r=0$ ou $\nu(r)<\nu(b)$.
    Se $r\neq 0$, temos que $\nu(r)<\nu(b)$, o que nos dá um absurdo, uma vez que $r=a-bq\in I$ e $b$ é o elemento de menor valoração em $I$.
    Assim, $r=0$, e, portanto, $a=bq\in \langle b\rangle$.
\end{proof}


\section{Domínios de Fatoração Única}
Domínios de Fatoração Única, também conhecidos como Domínios Fatoriais, ou Anéis Fatoriais, são domínios de integridade que capturam outra propriedade dos números inteiros:
a do Teorema Fundamental da Aritmética.

\begin{definition}
    Um Domínio de Fatoração Única (DFU) é um domínio de integridade $R$ tal que para todo $a\in R\setminus \{0\}$, existem um inteiro $n\geq 1$, irredutíveis $p_1, \dots, p_n$ e $u\in R^*$ tais que $a=up_1\cdots p_n$ e que, além disso, para quaisquer inteiros $m\geq 1$ e irredutíveis $q_1, \dots, q_m$ para os quais existam $u'$ tal que $a=u'q_1\cdots q_m$, segue que $n=m$ e que existe uma permutação $\sigma:\{1\dots, n\}\rightarrow \{1, \dots, n\}$ tal que $p_i$ é associado a $q_{\sigma(i)}$ para todo $i=1, \dots, n$.

\end{definition}

Pelo Teorema Fundamental da Aritmética, sabemos que $\mathbb Z$ é um DFU.

Mais geralmente:

\begin{theorem}
    Todo domínio de ideais principais é um DFU.
\end{theorem}

Para provar esse teorema, precisaremos de alguns lemas.


Primeiro, precisaremos:

\begin{lemma}
Seja $R$ um domínio de ideais principais e $a\in R\setminus \{0\}$ não invertível.
Então existe um elemento primo $p\in R$ tal que $p|a$.
\end{lemma}
\begin{proof}
    Fique $a \in R$ como no enunciado e suponha por absurdo que a tese é falsa.

    Recursivamente, defina uma sequência de elementos $a_n$ não invertíveis e não tal que $a_0=a$ e $a_{n+1}|a_n$ e $a_{n+1}$ não é associado à $a_n$, o que existe ou $a$ seria divisível por um elemento irredutível (e portanto primo).

    Temos que $I=\bigcup_{n \in \mathbb N}\langle a_n\rangle$ é um ideal, pois $\langle a_n\rangle\subseteq \langle a_{n+1}\rangle$ para todo $n\geq 0$.
    Como $R$ é um domínio de ideais principais, existe $b\in R$ tal que $I=\langle b\rangle$.

    Temos que $b\in \langle a_n\rangle $ para algum $n$, assim, $a_{n+1}\in \langle a_n\rangle$, o que implica que $a_{n+1}$ é associado a $a_n$, um absurdo.
\end{proof}

\section{Mínimo múltiplo comum e Máximo divisor comum}
\begin{definition}
Seja $R$ um anel comutativo e $a, b \in R$ não nulos.

Um mínimo múltiplo comum de $a$ e $b$ é, se existe, um elemento $m\in R$ tal que:
\begin{itemize}
    \item $a|m$ e $b|m$.
    \item Se $c\in R$ é tal que $a|c$ e $b|c$, então $m|c$.
\end{itemize}

Um máximo divisor comum de $a$ e $b$ é, se existe, um elemento $d\in R$ tal que:
\begin{itemize}
    \item $d|a$ e $d|b$.
    \item Se $c\in R$ é tal que $c|a$ e $c|b$, então $c|d$.
\end{itemize}
\end{definition}
\begin{lemma}
    Seja $R$ um domínio de integridade e $a \in R$ não nulo.

    Sejam $a, b \in R$.
    Então todos os mínimos múltiplos comuns de $a$ e $b$ são associados entre si, e todos os máximos divisores comuns de $a$ e $b$ são associados entre si (caso existam).
\end{lemma}
\begin{proof}
Sejam $d, d'$ máximos divisores comuns de $a$ e $b$.
Então, $d|a$ e $d|b$, $d'|a$ e $d'|b$.
Logo, $d|d'$ e $d'|d$.
Logo, $d$ e $d'$ são associados entre si.

Similarmente, sejam $m, m'$ mínimos múltiplos comuns de $a$ e $b$.
Então, $m|a$ e $m|b$, $m'|a$ e $m'|b$.
Logo, $m|m'$ e $m'|m$.
Logo, $m$ e $m'$ são associados entre si.
\end{proof}

\section{Exercícios}

\begin{exer}
    Prove, com suas próprias palavras e de modo que considere satisfatório, que a relação de ser associado, em um anel comutativo, é uma relação de equivalência.
\end{exer}

\begin{exer}
    Seja $D$ um domínio de integridade e $a, b \in R$ não nulos.
    Redija com suas palavras, de forma que considere satisfatória, uma demonstração para o fato de que quaisquer dois mínimos múltiplos comuns de $a$ e $b$ são associados entre si, e que quaisquer dois máximos divisores comuns de $a$ e $b$ são associados entre si, caso existam.
\end{exer}
\begin{exer}
    Seja $R$ um domínio Euclideano munido de função grau $\nu$ e $a \in R$ não nulo.
    Seja $m$ o menor valor assumido por $\nu$.
    Prove que $a$ é invertível se, e somente se $\nu(a)=m$.
\end{exer}
