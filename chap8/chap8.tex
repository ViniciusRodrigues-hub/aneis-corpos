\chapter{Divisibilidade em anéis}
Neste capítulo, estudaremos a noção de divisibilidade em anéis.
Tal noção é uma generalização da noção de divisibilidade em $\mathbb Z$.

Trataremos de divisibilidade apenas em anéis comutativos.

\section{Definição de divisibilidade}


\begin{definition}
Seja $R$ um anel comutativo. Definimos a relação de divisibilidade, $|$, em $R$, como se segue:

Para $a, b \in R$, dizemos que $a|b$ ($a$ divide $b$) se existe $c \in R$ tal que $b=ac$.
\end{definition}
Algumas propriedades básicas:
\begin{prop}
    Seja $R$ um anel comutativo.
    Então a relação de divisibilidade $|$ em $R$ é uma pré-ordem, ou seja, é reflexiva e transitiva.
\end{prop}

\begin{proof}Sejam $a, b, c \in R$.
    Temos que $a|a$, pois $a=1\cdot a$.

    Se $a|b$ e $b|c$, existem $e, f \in R$ tais que $b=ae$ e $c=bf$.
    Logo, $c=bf=aef=a(ef)$, o que implica em que $a|c$.
\end{proof}

Divisores de zero geram diversas patologias na teoria da divisibilidade, e estas não serão objeto primário de nosso estudo.
Assim, nos restringiremos aos anéis comutativos que não possuem divisores de zero, ou seja, aos domínios de integridade.
\begin{prop}
    Seja $R$ um anel domínio de integridade. Se $a, b\in R$, são equivalentes:

    \begin{enumerate}
        \item $a|b$ e $b|a$.
        \item Existe $u \in R$ invertível tal que $a=ub$.
    \end{enumerate}

    \begin{proof}
        Primeiro, suponha que $a|b$ e $b|a$.
        Temos que existem $c, d$ com $a=cb$ e $b=da$.
        Substituindo, temos que $b=dcb$. Cancelando, $1=dc$. Assim, $c$ é invertível.

        Reciprocamente, como $u$ é invertível, $a=ub$ e $u^{-1}a=b$, logo, $a|b$ e $b|a$.
    \end{proof}
\end{prop}

Com isso, definimos:

\begin{definition}
Seja $R$ um anel comutativo.
Dizemos que elementos $a, b \in R$ são associados se existe $u \in R$ invertível tal que $a=ub$.
\end{definition}

A relação de ser associado é uma relação de equivalência:

\begin{lemma}
    Seja $R$ um anel comutativo. A relação de ser associado é uma relação de equivalência em $R$.
\end{lemma}
\begin{proof}
    Seja $a, b, c \in R$.
    \begin{itemize}
        \item Reflexividade: $a$ é associado a si mesmo, pois $a=1\cdot a$ e $1 \in R^*$.
        \item Simetria: Se $a$ é associado a $b$, então existe $u$ invertível tal que $a=ub$. Logo, $b=u^{-1}a$, e, portanto, $b$ é associado a $a$.
        \item Transitividade: Se $a$ é associado a $b$ e $b$ é associado a $c$, então existem $u, v$ invertíveis tais que $a=ub$ e $b=vc$.
        Logo, temos que $a=uvc$, e, portanto, $a$ é associado a $c$, já que $uv\in R^*$.
    \end{itemize}
\end{proof}

Os números inteiros possuem uma classe muito importante de números: a dos primos.
As definições abaixo generalizam a noção de primo.

\begin{prop}[Elementos primos]
    Seja $R$ um anel comutativo com unidade.
    Dizemos que $p \in R$ é um elemento primo se $p\notin R^*$, $P\neq 0$, e, para todos $a, b \in R$, se $p|ab$, então $p|a$ ou $p|b$.
\end{prop}

\begin{prop}[Elementos irredutíveis]
    Seja $R$ um anel comutativo com unidade.
    Dizemos que $p \in R$ é um elemento irredutível se $p\notin R^*$, $p\neq 0$, e, para todos $a, b \in R$, se $p=ab$, então $a\in R^*$ ou $b\in R^*$.
\end{prop}

A seguinte proposição os relaciona:

\begin{prop}
    Seja $R$ um anel comutativo com unidade.
    Então, se $p \in R$ é primo, então $p$ é irredutível.
\end{prop}
\begin{proof}
    Seja $p \in R$ primo
    Para ver que $p$ é irredutível, fixe $a, b \in R$ e suponha que $p=ab$.
    
    Como $ab=p$, temos que $p|ab$.
    Logo, $p|a$ ou $p|b$.
    Supondo $p|a$, temos que $a=pc$ para algum $c \in R$.
    Logo, $p=pcb$, e, portanto, $1=cb$, o que mostra que $b \in R^*$.

    O caso em que $p|b$ é análogo.
\end{proof}
\section{Domínios Euclideanos}
O anel dos números inteiros possui uma propriedade muito importante:
dado $n\in \mathbb Z$ e $d>0$, existem únicos $n, r$ tais que $0\leq r < d$ e $a=nd+r$.

A noção de domínio Euclideano generaliza os anéis que possuem essa propriedade.

\begin{definition}
    Um domínio de integridade $R$ é um domínio Euclideano
    se existe uma função $\nu:R\setminus \{0\} \to \mathbb N=\{0, 1, \dots\}$ satisfazendo:
    \begin{itemize}
        \item Para todos $a, b \in R$ com $b\neq 0$, existem $q, r \in R$ com $a=bq+r$ e ($r=0$ ou $\nu(r)<\nu(b)$).
        \item Para todos $a, b \in R\setminus \{0\}$, $\nu(ab)\geq \nu(a)$.
    \end{itemize}

    Tal função $\nu$ é chamada de valoração, ou grau.
\end{definition}
Um primeiro resultado simples:
\begin{definition}
    Seja $R$ um domínio Euclideano e $\nu$ uma função de valoração.
    Então se $a, b \in R$ são associados, temos $\nu(a)=\nu(b)$.
\end{definition}
\begin{proof}
    Se $a$ e $b$ são associados, existe $u \in R^*$ tal que $a=ub$.
    Logo, $\nu(a)=\nu(ub)\geq \nu(b)$ e $\nu(b)=\nu(u^{-1}a)\geq \nu(a)$.
    Assim, $\nu(a)=\nu(b)$.
\end{proof}

\begin{exemplo}
    O anel dos inteiros $\mathbb Z$ é um domínio Euclideano, com $\nu(n)=|n|$ para $n\neq 0$.
    Primeiro, é claro que se $a, b\in \mathbb Z$ são não nulos, então $|ab|=|a||b|\geq |a|1=|a|$.

    Agora, sejam $a, b\in \mathbb Z$ com $b\neq 0$.
    Sabemos que existem $q, r \in \mathbb Z$ tais que $a=q|b|+r$ e $0\leq r < |b|$.
    Se $b>0$, isso conclui a prova.
    Se $b<0$, então $a=(-q)b+r$, e isso conclui a prova.
\end{exemplo}

\begin{exemplo}
    No geral, não podemos exigir a unicidade de $q, r$.
    De fato, em $\mathbb Z$, considere $a=3$, $b=2$.
    Então $3=1\cdot 2+1$ com $|1|<|2|$, mas também $3=2\cdot 2+(-1)$ com $|-1|<|2|$.
\end{exemplo}

Porém, temos o resultado a seguir.
Mais adiante, veremos que esse será o caso para anéis de polinômios sobre corpos munidos da função grau.


\begin{prop}
    Seja $R$ um domínio Euclideano e $\nu$ uma função de valoração tal que
    para todos $a, b\in R$ com $a, b, a+b\neq 0$, temos $\nu(a+b)\leq \max(\nu(a), \nu(b))$.
    
    Então para todos $a, b \in R$ com $b\neq 0$, existem únicos $q, r \in R$ tais que $a=bq+r$ e ($r=0$ ou $\nu(r)<\nu(b)$).
\end{prop}
\begin{proof}
    A existência de $q, r$ como acima vem da definição de domínios Euclideanos.
    Adicionalmente, sejam $q', r' \in R$ tais que $a=bq'+r'$ e $r'=0$ ou $\nu(r')<\nu(b)$.

    Temos que $q'b+r'=qb+r$.
    Se $r=r'$, segue que $q=q'$.
    Similarmente, se $q=q'$, segue que $r=r'$.
    Portanto, vamos supor por absurdo que $r\neq r'$ e $q\neq q'$.
    Assim, $r'-r=(q-q')b+(r-r')$.
    
    Se $r=0$, temos que $\nu(r')<\nu(b)\leq \nu((q-q')b)=\nu(r)$, o que é absurdo.

    Se $r'=0$, temos que $\nu(-r)=\nu(r)<\nu(b)\leq(\nu(q-q')b)=\nu(r)$, o que é absurdo.
    
    Se $r, r'\neq 0$, temos que $\nu(r'-r)\leq \max(\nu(r), \nu(r'))<\nu(b)\leq(\nu(q-q')b)=\nu(r)$, o que é absurdo.
\end{proof}

\begin{prop}
    Todo corpo é um Domínio Euclideano.
\end{prop}
\begin{proof}
Seja $K$ um corpo e considere $\nu:K\setminus \{0\}\to N$ dada por $\nu(x)=1$ para todo $x\in K\setminus \{0\}$.

    Então, para $a, b \in K\setminus \{0\}$, temos que $\nu(ab)=1=\nu(a)$,
    e, dados $a, b\in K$ com $b\neq 0$, temos que $a=(ab^{-1})b+0$.
\end{proof}

O resultado abaixo generaliza o que também já sabemos sobre $\mathbb Z$.
\begin{prop}
Todo domínio Euclideano é um domínio de ideais principais.
\end{prop}
\begin{proof}
    Seja $R$ um domínio Euclideano com valoração $\nu$ e $I$ um ideal em $R$.

    Se $I=\{0\}$, então $I$ é gerado por $0$.

    Se $I\neq \{0\}$, então existe $b\in I$ tal que $\nu(b)$ é mínimo.
    Afirmamos que $I=\langle b\rangle$.
    É claro que $\langle b\rangle\subseteq I$, restando verificar que $I\subseteq \langle b\rangle$.
    De fato, tome $a \in I$.
    Existem $q, r \in R$ tais que $a=bq+r$ e $r=0$ ou $\nu(r)<\nu(b)$.
    Se $r\neq 0$, temos que $\nu(r)<\nu(b)$, o que nos dá um absurdo, uma vez que $r=a-bq\in I$ e $b$ é o elemento de menor valoração em $I$.
    Assim, $r=0$, e, portanto, $a=bq\in \langle b\rangle$.
\end{proof}
\section{Domínios de Fatoração Única}
Domínios de Fatoração Única, também conhecidos como Domínios Fatoriais, ou Anéis Fatoriais, são domínios de integridade que capturam outra propriedade dos números inteiros:
a do Teorema Fundamental da Aritmética.
\section{Exercícios}

\begin{exer}
    Prove, com suas próprias palavras e de modo que considere satisfatório, que a relação de ser associado, em um anel comutativo, é uma relação de equivalência.
\end{exer}
