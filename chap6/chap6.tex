\chapter{Domínios de Integridade}
Neste capítulo, exploraremos com mais detalhes os domínios de integridade e a teoria que nasce deles.

\section{Relações entre corpos e domínios de integridade}
Conforme visto, todo corpo é um domínio de integridade, e a recíproca não é verdadeira (sendo $\mathbb Z$ um contra-exemplo).

A seguir, apresentaremos algumas relações entre corpos e domínios de integridade.

\begin{prop}
Todo domínio de integridade finito é um corpo.
\end{prop}
\begin{proof}
    Seja $R$ um domínio de integridade finito.
    Fixe $a \in R\setminus\{0\}$.
    Veremos que $a$ é invertível.

    Considere $\phi:R\setminus\{0\}\rightarrow R\setminus \{0\}$ dado por $\phi(x)=ax$.

    Como $R$ é um domínio de integridade, para todo $x \in R\setminus \{0\}$, temos $ax \neq 0$, logo, $\phi$ está bem definida.

    $\phi$ é uma função injetora: se $\phi(x)=\phi(y)$, então $ax=ay$.
    Logo, $a(x-y)=0$.
    Como $a\neq 0$ e $R$ é um domínio de integridade, segue que $x-y=0$, ou seja, $x=y$.

    Como $R\setminus\{0\}$ é finito e $\phi:R\setminus\{0\}\rightarrow R\setminus \{0\}$ é injetora, segue que $\phi$ é sobrejetora.
    Em particular, existe $x \in X$ tal que $ax=\phi(x)=1$.
    Logo, $a$ é invertível.
\end{proof}

Portanto, restrito aos anéis finitos, o estudo dos corpos e domínios de integridade colapsa em um único estudo.

Outra relação importante é a que segue:

\begin{prop}
Seja $R$ um anel comutativo e $I$ um ideal próprio de $R$. São equivalentes:

\begin{enumerate}[label=(\roman*)]
    \item $R/I$ é um corpo;
    \item $I$ é maximal.
\end{enumerate}
\end{prop}

\begin{proof}
    Seja $q:R\rightarrow I$ o mapa quociente.

    (i) $\Rightarrow$ (ii): Suponha que $R/I$ é um corpo.
    

    $I$ é um ideal próprio, caso contrário, teríamos que $R/I$ é o anel trivial, que não é um corpo.

    Agora suponha que $J$ é um ideal que contém $I$ propriamente.
    Veremos que $J=R$.
    Seja $a \in J\setminus I$.
    Como $a\notin I$, temos que $q(a)\neq 0$.
    Como $A/I$ é um corpo, existe $b \in R$ tal que $q(a)q(b)=1$.
    Isso implica que existe $x \in I$ tal que $ab+x=1$.
    Como $a \in J$ e $x \in I\subseteq J$, segue que $1=ab+x\in J$, e, portanto, $J=R$.

    (ii) $\Rightarrow$ (i): Suponha que $I$ é maximal. Vejamos que $R/I$ é um corpo.

    Seja $x \in R\setminus I$ não nulo.
    Tome $a \in R$ tal que $q(a)=x$.
    Temos que $a \notin I$.
    Como $I+\langle a\rangle$ é um ideal que contém $I$ propriamente, segue que $I+\langle a\rangle=R$.
    Logo, existe $b \in R$ e $c \in I$ tais que $c+ba=1$.
    Logo, $q(1)=q(c)+q(ba)=0+q(b)q(a)=q(b)x$.
    Portanto, $x$ é invertível.
\end{proof}

Será que podemos caracterizar, de forma análoga, ser um domínio de integridade? A resposta é positiva.

\begin{prop}
    Seja $R$ um anel comutativo e $I$ um ideal próprio de $R$. São equivalentes:
    
    \begin{enumerate}[label=(\roman*)]
        \item $R/I$ é um domínio de integridade.
        \item $I$ é primo.
    \end{enumerate}
\end{prop}

\begin{proof}
    Seja $q:R\rightarrow I$ o mapa quociente.

    (i) $\Rightarrow$ (ii): Suponha que $R/I$ é um domínio de integridade.
    

    $I$ é um ideal próprio, caso contrário, teríamos que $R/I$ é o anel trivial, que não é um domínio de integridade.

    Suponha que $a,b \in R$ tais que $ab \in I$.
    Temos que $q(a)q(b)=q(ab)=0$.
    Como $R/I$ é um domínio de integridade, temos que $q(a)=0$ ou $q(b)=0$, ou seja, que $a \in I$ ou $B \in I$.

    Logo, $I$ é primo.

    (ii) $\Rightarrow$ (i): Suponha que $I$ é primo.
    Vejamos que $R/I$ é um domínio de integridade.

    Sejam $x, y \in R$ tais que $q(x)q(y)=0$.
    Devemos ver que $q(x)=0$ ou $q(y)=0$.
    Como $q(xy)=q(x)q(y)=0$, segue que $xy\in I$.
    Então, $x\in I$ ou $y\in I$, ou seja, $q(x)=0$ ou $q(y)=0$.
\end{proof}

Como consequência, temos:

\begin{corol}
    Seja $R$ um anel comutativo finito e $I$ um ideal de $R$. Então $I$ é primo se, e somente se $I$ é maximal.
\end{corol}
\begin{proof}
    Temos que $R/I$ é finito, e, portanto, é um corpo se, e somente se for um domínio de integridade.
    Portanto:

    \[I \text{ é primo} \Leftrightarrow R/I \text{ é um domínio de integridade} \Leftrightarrow R/I \text{ é um corpo} \Leftrightarrow I \text{ é maximal}\]
\end{proof}

\section{O corpo de frações de um domínio de integridade}

Conforme vimos, nem todo domínio de integridade é um corpo, sendo $\mathbb Z$ é o contra-exemplo mais usual.
Apesar disso, parece que, em algum sentido, $\mathbb Q$ é o ``menor'' corpo que contém $\mathbb Z$.

Uma das construções mais usuals do corpo $\mathbb Q$ utiliza classes de equivalências de pares de elementos de $\mathbb Z$.
Nesta seção, estudaremos esta construção de modo generalizado.

Iniciaremos apresentando uma construção do corpo de frações.

\begin{definition}
    Seja $R$ um domínio de integridade.

    Definamos, em $R\times \{0\}$, a relação de equivalência $\sim$ a seguir:

    \[(a, b) \sim (c, d) \Leftrightarrow ad=bc.\]

    O conjunto das classes de equivalência $R/\sim$ será denotado por $\Frac(R)$.
\end{definition}

Ao longo desta seção, a notação $\sim$ será fixada e utilizada exclusivamente para esse fim.
A ideia é pensar em cada par $(a, b)$ como uma fração $\frac{a}{b}$.
A relação $\sim$ captura a ideia que duas frações $\frac{a}{b}$ e $\frac{c}{d}$ são equivalentes se, e somente se, $ad=bc$.

\begin{lemma}
    Na notação acima, a relação $\sim$ é uma relação de equivalência em $R\times \{0\}$.
\end{lemma}

\begin{proof}
    Seja $(a, b), (c, d), (e, f) \in R\times \{0\}$.
    \begin{itemize}
        \item Temos que $(a, b)\sim (a, b)$ pois $ab=ba$.
        \item Simetria: se $(a, b)\sim (c, d)$, temos que $ad=bc$.
        Logo, $cb=da$, o que nos dá $(c, d)\sim (a, b)$.
        \item Transitividade: suponha que $(a, b)\sim (c, d)$ e $(c, d)\sim (e, f)$.
        Temos que $ad=bc$ e $cf=de$.
        Multiplicando a primeira equação por $f$ e a segunda por $b$, temos que $adf=bcf$ e $bcf=deb$.
        Logo, $adf=deb$.
        Como $d\neq 0$, cancelando, temos que $af=eb$, ou seja, que $(a, b)\sim (e, f)$.
    \end{itemize}
\end{proof}
\section{Exercícios}
\begin{exer}
    Demonstre, com suas próprias palavras, de modo que considere satisfatório, a seguinte afirmação demonstrada no texto: Todo domínio de integridade finito é um corpo.
\end{exer}